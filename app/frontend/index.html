<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <meta name="google-signin-client_id" content="1012179851696-fkknaicl6dg4g7cplk005v5desvddovj.apps.googleusercontent.com">
    <title>Kalo</title>
  </head>
  <body>
    <div id="app"></div>
    <script src="dist/main.js" type="text/javascript"></script>
    <script src="https://apis.google.com/js/platform.js" async defer></script>
    <script>
        function onSignIn(googleUser){
            var id_token = googleUser.getAuthResponse().id_token;
            app.loggedIn = true;
            var user_profile = googleUser.getBasicProfile();
            app.user_name = googleUser.getBasicProfile().getName();
            axios.post('http://localhost:5000/api/login', {
                    profile: googleUser.getBasicProfile(),
                    token: id_token
            },{
                withCredentials: true
            }).then(response => {
                app.getFoods();
                app.getMeals();
            }).catch(error => {
                console.log(error);
            });
            analytics.track('Sign In', {
                type: 'Google'
            });
        }
    </script>
  </body>
</html>
